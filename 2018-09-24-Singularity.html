
<!DOCTYPE html>
<html lang="en">
<head>
  <link href='//fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700,400italic' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" type="text/css" href="http://deeplearnphysics.org/Blog/theme/stylesheet/style.min.css">

  <link rel="stylesheet" type="text/css" href="http://deeplearnphysics.org/Blog/theme/pygments/github.min.css">
  <link rel="stylesheet" type="text/css" href="http://deeplearnphysics.org/Blog/theme/font-awesome/css/font-awesome.min.css">




  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="robots" content="index, follow" />

    <!-- Chrome, Firefox OS and Opera -->
    <meta name="theme-color" content="#333">
    <!-- Windows Phone -->
    <meta name="msapplication-navbutton-color" content="#333">
    <!-- iOS Safari -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

<meta name="author" content="Kazuhiro Terao" />
<meta name="description" content="Long due blog post about our singularity container use!" />
<meta name="keywords" content="singularity, container, software">
<meta property="og:site_name" content="DeepLearnPhysics Blog"/>
<meta property="og:title" content="Singularity container"/>
<meta property="og:description" content="Long due blog post about our singularity container use!"/>
<meta property="og:locale" content="en_US"/>
<meta property="og:url" content="http://deeplearnphysics.org/Blog/2018-09-24-Singularity.html"/>
<meta property="og:type" content="article"/>
<meta property="article:published_time" content="2018-09-24 00:00:00-05:00"/>
<meta property="article:modified_time" content="2018-09-24 00:00:00-05:00"/>
<meta property="article:author" content="http://deeplearnphysics.org/Blog/author/kazuhiro-terao.html">
<meta property="article:section" content="container"/>
<meta property="article:tag" content="singularity"/>
<meta property="article:tag" content="container"/>
<meta property="article:tag" content="software"/>
<meta property="og:image" content="profile.png">


<!-- Default meta cards for twitter -->
<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@dlphysics">
<meta name="twitter:creator" content="@dlphysics">
<meta name="twitter:title" content="Singularity container">
<meta name="twitter:description" content="<p>Long due blog post about our singularity container use!</p>">
<meta name="twitter:image" content="http://deeplearnphysics.org/Blog/theme/img/profile_small.png" />


  <title>DeepLearnPhysics Blog &ndash; Singularity container</title>
</head>
<body>
  <aside>
    <div>
      <a href="http://deeplearnphysics.org/Blog">
        <img src="http://deeplearnphysics.org/Blog/theme/img/profile.png" alt="Blog" title="Blog">
      </a>
      <h1><a href="http://deeplearnphysics.org/Blog">Blog</a></h1>

<p>DeepLearnPhysics Group</p>

      <ul class="social">
        <li><a class="sc-home" href="http://deeplearnphysics.org" target="_blank"><i class="fa fa-home"></i></a></li>
        <li><a class="sc-twitter" href="https://twitter.com/dlphysics" target="_blank"><i class="fa fa-twitter"></i></a></li>
        <li><a class="sc-github" href="http://github.com/DeepLearnPhysics" target="_blank"><i class="fa fa-github"></i></a></li>
      </ul>
    </div>

  </aside>
  <main>
    <nav>


      <a href="http://deeplearnphysics.org/Blog/index.html">Home</a>
      <a href="http://deeplearnphysics.org/Blog/categories.html">Category</a>
      <a href="http://deeplearnphysics.org/Blog/archives.html">Archives</a>
      <a href="http://deeplearnphysics.org/Blog/tags.html">Tags</a>
      <a href="http://deeplearnphysics.org/Blog/authors.html">Authors</a>


    </nav>

<article class="single">
  <header>
    <h1 id="2018-09-24-Singularity">Singularity container</h1>
    <p>
          Posted on Mon 24 September 2018 in <a href="http://deeplearnphysics.org/Blog/category/container.html">container</a>

            by

              <a href="http://deeplearnphysics.org/Blog/author/kazuhiro-terao.html">Kazuhiro Terao</a>    </p>
  </header>

  <!-- script is a local library -->
  <link rel="stylesheet" type="text/css" href="http://deeplearnphysics.org/Blog/theme/stylesheet/kazunotebook.css">

  <div>
    <p>Recently I gave a DLP workshop/tutorial at Brookhaven National Lab (BNL), and one of the successful outcome was sharing our use of singularity. <strong><a href="https://wirecell.github.io/news/posts/singularity-containers-for-wct-and-wcls-running-and-development/"><strong>Brett Viren wrote a blog post</strong></a></strong> about how it can simplify lives of WireCell users! So I decided to write this blog post, which was long due, about our use of a singularity container.</p>
<h2>Singularity-Hub</h2>
<p>We use <strong><a href="http://singularity.lbl.gov">singularity</a></strong> to distribute our software, and we use <a href="https://singularity-hub.org">the singularity hub</a>. We maintain our singularity recipe in <strong><a href="https://github.com/DeepLearnPhysics/larcv2-singularity"><strong>the github repository</strong></a></strong>, and here is <strong><a href="https://singularity-hub.org/collections/459"><strong>our collection on singularity-hub</strong></a></strong> which is set to automatically produce and build container images. Our github repository describes three types of images we produce. Today how to run our work environment is as simple as:</p>
<div class="highlight"><pre><span></span>singularity exec --nv shub://DeepLearnPhysics/larcv2-singularity bash
</pre></div>


<p>Though I usually pull an image file and execute locally</p>
<div class="highlight"><pre><span></span>singularity pull -n local.img shub://DeepLearnPhysics/larcv2-singularity
singularity exec --nv local.img bash
</pre></div>


<h2>Wiki page</h2>
<p>Probably some of us are interested in how to build a container, not just pulling an image from the hub. I wrote <strong><a href="https://github.com/DeepLearnPhysics/playground-singularity/wiki"><strong>a wiki page</strong></a></strong> with some example code to build simple containers. This should get you up to speed with writing a container recipe that generates our container images on the singularity-hub. Your contributions to improve this example/documentation would be very much welcome. Let us know and we'll include them or simply give you a permission to update the wiki ;)</p>
<h2>Where to use?</h2>
<p>I use singularity and our image to setup a work environment on my laptop, desktop, a dedicated GPU server machine for my group as well as shared GPU resources (cluster and grid). It's great: I managed to start training my deep neural network model within 5 minutes since the delivery of a new GPU server which runs an OS (CentOS) I am not familiar with. I have had successful experience with all summer students jumping straight into machine learning research work thanks to Singularity. </p>
<p>In fact, I no longer recommend to compile larcv from source, <strong><a href="http://deeplearnphysics.org/Blog/tutorials/tutorial-01.html">a step in our tutorial</a></strong>. It's really important for a short-term students/contributors to be able to get to the core of their project. Yep, we should put aside our fun of teaching them how to compile source and generate/link libraries sometimes. Thanks to the world of awesome people for introducing a container, and the singularity team for a particularly handy software!</p>
  </div>

  <div class="tag-cloud">
    <p>
      <a href="http://deeplearnphysics.org/Blog/tag/singularity.html">singularity</a>
      <a href="http://deeplearnphysics.org/Blog/tag/container.html">container</a>
      <a href="http://deeplearnphysics.org/Blog/tag/software.html">software</a>
    </p>
  </div>



</article>

    <footer>
<p>
  &copy; DeepLearnPhysics 2017 - This work is licensed under a <a rel="license" href="https://opensource.org/licenses/MIT">MIT License</a>
</p>
<p>
</p>    </footer>
  </main>





<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " DeepLearnPhysics Blog ",
  "url" : "http://deeplearnphysics.org/Blog",
  "image": "profile.png",
  "description": "description!"
}
</script>
</body>
</html>